@using north.Domain;
@model north.ViewModels.OrdersViewModel

@Scripts.Render("~/bundles/jqueryval")

<script type="text/javascript">
    $(function () {
        $('.datetextbox').datepicker({dateFormat: 'm/d/yy'});
    });
</script>

@using (Html.BeginForm(@Model.ViewActionName, @Model.ViewControllerName, new { model = this.Model, returnUrl = @Model.ViewReturnUrl }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    <div>
        <fieldset>
            <legend></legend>
            <table>
                @if (Model.Operation == CrudOperation.Update)
                {
                    <tr>
                        <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.OrderID):</td>
                        <td></td>
                        <td class="editor-field">@Html.TextBoxFor(vm => vm.OrdersModel.OrderID, new { @readonly = "readonly" })</td>
                        <td></td>
                    </tr>
                }

                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.CustomerID):</td>
                    <td></td>
                    <td class="editor-field">@Html.DropDownListFor(vm => vm.OrdersModel.CustomerID, new SelectList(Model.CustomersDropDownListData, "CustomerID", "CompanyName"), "Select One")</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.CustomerID)</td>
                </tr>
                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.EmployeeID):</td>
                    <td></td>
                    <td class="editor-field">@Html.DropDownListFor(vm => vm.OrdersModel.EmployeeID, new SelectList(Model.EmployeesDropDownListData, "EmployeeID", "LastName"), "Select One")</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.EmployeeID)</td>
                </tr>
                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.OrderDate):</td>
                    <td></td>
                    <td class="editor-field">@Html.TextBoxFor(vm => vm.OrdersModel.OrderDate, new { @class = "datetextbox" })</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.OrderDate)</td>
                </tr>
                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.RequiredDate):</td>
                    <td></td>
                    <td class="editor-field">@Html.TextBoxFor(vm => vm.OrdersModel.RequiredDate, new { @class = "datetextbox" })</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.RequiredDate)</td>
                </tr>
                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.ShippedDate):</td>
                    <td></td>
                    <td class="editor-field">@Html.TextBoxFor(vm => vm.OrdersModel.ShippedDate, new { @class = "datetextbox" })</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.ShippedDate)</td>
                </tr>
                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.ShipVia):</td>
                    <td></td>
                    <td class="editor-field">@Html.DropDownListFor(vm => vm.OrdersModel.ShipVia, new SelectList(Model.ShippersDropDownListData, "ShipperID", "CompanyName"), "Select One")</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.ShipVia)</td>
                </tr>
                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.Freight):</td>
                    <td></td>
                    <td class="editor-field">@Html.EditorFor(vm => vm.OrdersModel.Freight)</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.Freight)</td>
                </tr>
                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.ShipName):</td>
                    <td></td>
                    <td class="editor-field">@Html.EditorFor(vm => vm.OrdersModel.ShipName)</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.ShipName)</td>
                </tr>
                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.ShipAddress):</td>
                    <td></td>
                    <td class="editor-field">@Html.EditorFor(vm => vm.OrdersModel.ShipAddress)</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.ShipAddress)</td>
                </tr>
                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.ShipCity):</td>
                    <td></td>
                    <td class="editor-field">@Html.EditorFor(vm => vm.OrdersModel.ShipCity)</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.ShipCity)</td>
                </tr>
                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.ShipRegion):</td>
                    <td></td>
                    <td class="editor-field">@Html.EditorFor(vm => vm.OrdersModel.ShipRegion)</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.ShipRegion)</td>
                </tr>
                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.ShipPostalCode):</td>
                    <td></td>
                    <td class="editor-field">@Html.EditorFor(vm => vm.OrdersModel.ShipPostalCode)</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.ShipPostalCode)</td>
                </tr>
                <tr>
                    <td class="editor-label">@Html.LabelFor(vm => vm.OrdersModel.ShipCountry):</td>
                    <td></td>
                    <td class="editor-field">@Html.EditorFor(vm => vm.OrdersModel.ShipCountry)</td>
                    <td class="editor-field">@Html.ValidationMessageFor(vm => vm.OrdersModel.ShipCountry)</td>
                </tr>
                <tr>
                    <td colspan="2"></td>
                    <td colspan="2">
                        <br />
                        @if (Model.Operation == CrudOperation.Add)
                        {
                            <input type="submit" value="Add" class="button-150" />
                        }
                        else
                        {
                            <input type="submit" value="Update" class="button-150" />
                        }

                        @if (Request.UrlReferrer != null)
                        {
                            <input type="button" value="Cancel" onclick="window.location = '@Request.UrlReferrer.ToString()'; return false;" class="button-100" />
                        }
                        else
                        {
                            <input type="button" value="Cancel" onclick="window.location = '@Url.Action("Index", "Home")'; return false;" class="button-100" />
                        }
                    </td>
                </tr>
            </table>
        </fieldset>
    </div>
}
